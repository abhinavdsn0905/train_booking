{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block content %}

<div class="auth-container">

    <div class="auth-card">

        {% if otp_required %}
    <h2>Enter OTP</h2>

    <form method="POST">
        {% csrf_token %}
        <input type="text" name="otp" placeholder="Enter OTP" required>
        <button type="submit" class="main-btn">Verify OTP</button>
    </form>

    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}

{% else %}
    <h2>Login</h2>

    <form method="POST">
        {% csrf_token %}
        <input type="text" name="username" placeholder="Username" required>
        <input type="password" name="password" placeholder="Password" required>
        <button type="submit" class="main-btn">Login</button>
    </form>

    {% if error %}
        <p style="color:red;">{{ error }}</p>
    {% endif %}
{% endif %}


        <p class="auth-footer">
            Don't have an account?
            <a href="{% url 'register' %}">Register</a>
        </p>

    </div>

</div>

{% endblock %}
